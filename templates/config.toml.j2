#
# This file is managed by Ansible.
# Do not edit this file manually.
# Any changes will be automatically reverted.
#

{% macro run(item, level, table='???') -%}
  {%- if item is mapping -%}
    {#- The item is a dict -#}
    {%- for key, value in item.iteritems() | sort %}
      {%- if value is string or value is number -%}
        {{ "  " * level }}{{ key }} = {{ '"' + value + '"' if value is string and value != 'true' and value != 'false' else value }}{{ "\n" }}
      {%- elif value is mapping -%}
        {#- The value is a dict -#}
        {{ "  " * (level+1) }}{{ "[" + key + "]\n" if key | length > 0 else key }}{{ run(value, level+1) }}{{ "\n" }}
      {%- else -%}
        {#- The value is a list -#}
        {{ run(value, level, key) }}
      {%- endif -%}
    {%- endfor %}
  {%- else %}
    {#- The item is a list -#}
    {%- for n in item -%}
      {{ "  " * (level+1) }}[[{{ table }}]]{{ "\n" }}{{ run(n, level+1, table) }}{{ "\n" }}
    {%- endfor %}
  {%- endif %}
{%- endmacro -%}

{{ run(influxdb_config, -1) }}
